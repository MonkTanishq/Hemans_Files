<!DOCTYPE html>
<html lang = "en" xmlns = "http://www.w3.org/1999/xhtml">
<head>
	 <meta name="viewport" content="width=device-width, initial-scale=1.0">
	 <meta charset = "utf-8"/>
	 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	 <title>YOLO</title>
	 <link rel = "stylesheet" href = "../static/main.css">
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>
<body>
	<nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
		<div class="container">
				<span class="navbar-brand mb-0 h1 mr-auto">YouOnlyLookOnce</span>

			<ul  class="navbar-nav ml-auto">
				<li class="nav-item active">
					<a role="button" class="btn btn-block nav-link" data-toggle="modal"
                                 data-target="#about">About</a>
				</li>
			</ul>
		</div>
	</nav>
	<div class="container">
		<div class="text-center">
			<p >Our project is based on Deep Learning, here we have created Yolo Object Detection using Pytorch.</p>
				<div style="...">
					<h3>Select image for Object Detection</h3>
				</div><br>
			<div>
				<form action ="http://127.0.0.1:5000/detect" method="POST" enctype = "multipart/form-data">
					<input type = "file" name = "inpFile" id = "inpFile"><br>
					<div class = "image-preview center" id = "imagePreview">
						<img src = "" alt = "Image Preview" class = "image-preview__image">
						<span class = "image-preview__default-text">Image Preview</span>
					</div>
					<script>

					const inpFile = document.getElementById("inpFile");
					const previewContainer = document.getElementById("imagePreview");
					const previewImage = previewContainer.querySelector(".image-preview__image");
					const previewDefaultText = previewContainer.querySelector(".image-preview__default-text");

					inpFile.addEventListener("change", function(){
						const file = this.files[0];
						if(file){
							const reader = new FileReader();
							previewDefaultText.style.display = "none";
							previewImage.style.display = "block";
							reader.addEventListener("load", function(){
								previewImage.setAttribute("src", this.result);
							});
							reader.readAsDataURL(file );
						}
						else{
							previewDefaultText.style.display = null;
							previewImage.style.display = null;
							previewImage.setAttribute("src", "");
						}
					});
					$(document).ready(function() {
						$('#reset1').click( function(){
							$('#inpFile').val('');
							$('#imagePreview').val('');
							$('.image-preview__image').remove();
						});
					});

				 	</script>
					<br><input class = "btn" type = "submit" value = "Submit">
					<input class = "btn" type = "reset" value = "Reset" id="reset1">
				</form>
				<p>Report:<output name = "out">Report Status</output>
				{{ data }}
				</p>
			</div>
		</div>
	</div>
	<br><br>
	<div class="container" id="about">
		<div class="card text-center">
		  <div class="card-header">
			About
		  </div>
		  <div class="card-body">
			<h5 class="card-title">Know Little About Us</h5>
			<p class="card-text">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
			</p>
		  </div>
		</div>
    </div>
	<footer class="site-footer">
		<div class="container">
			<div class="row">
				<p class="copyright-text">Copyright &copy; 2020 All Rights Reserved by <a>Hemans AI</a></p>
			</div>
		</div>
	</footer>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

</body>
</html>
